**Аргумент по умолчанию** – это значение по умолчанию, предоставленное для параметра функции. Если пользователь не предоставляет явный аргумент для параметра с аргументом по умолчанию, то будет использоваться значение по умолчанию. Если пользователь предоставляет аргумент для этого параметра, то используется аргумент, предоставленный пользователем.

Поскольку пользователь может выбрать, следует ли предоставить конкретное значение аргумента или использовать значение по умолчанию, параметр с предоставленным значением по умолчанию часто называется необязательным параметром.

Посмотрим на следующий код:

```cpp
#include <string>
#include <fstream> // библиотека для работы с файлами

void CreateConfigFile(std::string file_path = "/usr/local/nginx/conf") {
  std::ofstream Config(file_path); // создаем конфигурационный фаил
  Config.close(); // и тут же закрываем его 
}
```

У нас есть функция, которая создает пустой конфигурационный файл для сервера. Если вызывающая сторона не передаст в функцию путь, то будет использован путь по умолчанию `/usr/local/nginx/conf`.

## Несколько аргументов по умолчанию

Функция может иметь несколько параметров с аргументами по умолчанию:

```cpp
#include <string>
#include <iostream>
#include <fstream> 

void CreateConfigFile(std::string file_path = "/usr/local/nginx/conf", int port = 80, std::string protocol = "https") {
  std::ofstream Config(file_path);
  Config << port << std::endl;
  Config << protocol;
  Config.close(); 
}
```

Если вызвать функцию `CreateConfigFile()` без аргументов, то будет создан конфигурационный файл по пути `/usr/local/nginx/conf` и в него будет записан номер порта `80`, протокол `https`.

Обратите внимание, что невозможно предоставить аргумент для параметра `protocol` без предоставления аргументов для параметров `file_path` и `port`. Это связано с тем, что C++ не поддерживает синтаксис вызова функции, такой как CreateConfigFile( , ,"http"). Это имеет два основных последствия:

- Все аргументы по умолчанию должны быть для крайних правых параметров. Запрещено следующее:

```cpp
void CreateConfigFile(std::string file_path, int port, std::string protocol = "https")
```

- Если существует более одного аргумента по умолчанию, крайний левый аргумент по умолчанию должен быть тем, который с наибольшей вероятностью будет явно установлен пользователем.

Аргументы по умолчанию могут быть объявлены только один раз, то есть аргумент по умолчанию может быть объявлен либо в прототипе функции, либо в определении, но не в обеих сразу.

Такой код вызовит ошибку:

```cpp
void CreateConfigFile(std::string file_path = "/usr/local/nginx/conf", int port = 80, std::string protocol = "https")

void CreateConfigFile(std::string file_path = "/usr/local/nginx/conf", int port = 80, std::string protocol = "https") {
  std::ofstream Config(file_path);
  Config << port << std::endl;
  Config << protocol;
  Config.close(); 
}
```

Лучше всего объявлять аргумент по умолчанию в предварительном объявлении, а не в определении функции, поскольку предварительное объявление с большей вероятностью будет замечено другими файлами (особенно если оно находится в заголовочном файле).

## Аргументы по умолчанию и перегрузка функций

Функции с аргументами по умолчанию могут быть перегружены. Например, разрешено следующее:

```cpp
void CreateConfigFile(std::string file_path, int port);
void CreateConfigFile(std::string file_path, std::string port = "80");
```

Теперь если вызвать функцию `CreateConfigFile("/usr/local/nginx/conf")`, то в конфигурационный файл будет записано значение порта `80`.

Однако важно отметить, что необязательные параметры не учитываются в отношении параметров, которые делают функцию уникальной. Следовательно, следующее недопустимо:

 ```cpp
void CreateConfigFile(std::string file_path);
void CreateConfigFile(std::string file_path, std::string port = "80");
```

Компилятор не сможет разрешить эту перегрузку, потому что при вызове функции `CreateConfigFile()` возникнет неоднозначность.

Аргументы по умолчанию предоставляют полезный механизм для указания параметров, для которых пользователю необязательно указывать значения.
